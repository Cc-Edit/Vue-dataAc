/*!
  * vue-dataAc v2.0.0
  * (c) 2020 adminV
  * @license MIT
  */
/*!
  * vue-dataAc v2.0.0
  * (c) 2020 adminV
  * @license MIT
  */
var t,e;t=this,e=function(){"use strict";var t={storeVer:"2.0.0",storeInput:"ACINPUT",storePage:"ACPAGE",storeClick:"ACCLIK",storeReqErr:"ACRERR",storeTiming:"ACTIME",storeCodeErr:"ACCERR",userSha:"vue_ac_userSha",useImgSend:!0,useStorage:!0,maxDays:365,openInput:!0,openCodeErr:!0,openClick:!0,openXhrData:!0,openXhrHock:!0,openPerformance:!0,openPage:!0,selector:"input",acRange:["text","tel","password"],classTag:"isjs-ac",acbLength:2,imageUrl:"http://open.isjs.cn/logStash/push.png",postUrl:"",openReducer:!1,sizeLimit:20,lazyReport:!1};function e(t){return!(0===t&&"0"===t||void 0!==t&&null!=t&&"null"!==t&&""!==t)}var o="undefined"!=typeof window,n=function(o){void 0===o&&(o={});var n=function(t,e){for(var o,n={},i=Object.keys(e),r=0;r<i.length;r++)n[o=i[r]]=void 0!==t[o]?t[o]:e[o];return n}(o,t);!function(t){(function(t){for(var e in t)return!1;return!0})(t)||(["storeInput","storePage","storeClick","storeReqErr","storeTiming","storeCodeErr","userSha","useImgSend","useStorage","maxDays","openInput","openCodeErr","openClick","openXhrData","openXhrHock","openPerformance","openPage"].map((function(o){e(t[o])})),t.useImgSend?e(t.imageUrl):e(t.postUrl),t.openInput&&(e(t.selector),e(t.acRange)),t.useStorage)}(n),this._options=n,this._uuid=function(t,e){if(!e)return null;if(t.useStorage)return window.localStorage.getItem(e);var o=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return o&&o.length>1?decodeURIComponent(o[2]):null}(this._options,this._options.userSha,this._options),e(this._uuid)&&(this._uuid=function(t,e){void 0===t&&(t=16),void 0===e&&(e=16);var o,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];for(o=0;o<t;o++)i[o]=n[0|Math.random()*e];return i.join("")}(),function(t,e,o,n){if(t.useStorage)window.localStorage.setItem(e,o);else{n||(n=t.maxDays);var i=new Date;i.setTime(i.getTime()+24*n*60*6e4),document.cookie=e+"="+encodeURIComponent(o)+";expires="+i.toUTCString()+";path=/"}}(this._options,this._options.userSha,this._uuid)),this._acData=[],this._init()};return n.prototype._init=function(){this._options.openXhrData&&this._initXhrErrAc(),this._options.openPerformance&&this._initPerformance(),this._options.openCodeErr&&this._initCodeErrAc(),this._options.openInput&&this._initInputAc(),this._options.openClick&&this._initClickAc(),this._options.openPage&&this._initPageAc()},n.prototype._initPageAc=function(){},n.prototype._initXhrErrAc=function(){},n.prototype._initPerformance=function(){},n.prototype._initCodeErrAc=function(){},n.prototype._initInputAc=function(){},n.prototype._initClickAc=function(){},n.prototype.postAcData=function(){if(!e(this._acData)&&0!==this._acData.length){var t,o,n,i=JSON.stringify({uuid:this._uuid,acData:this._acData});this._options.useImgSend?(new Image).src=this._options.imageUrl+"?acError="+i:(void 0===(t={type:"POST",dataType:"json",contentType:"application/json",data:i,url:this._options.postUrl})&&(t={}),t.type=(t.type||"GET").toUpperCase(),t.dataType=t.dataType||"json",t.async=t.async||!0,t.data&&(n=t.data),window.XMLHttpRequest?(o=new XMLHttpRequest).overrideMimeType&&o.overrideMimeType("text/xml"):o=new ActiveXObject("Microsoft.XMLHTTP"),"GET"===t.type?(o.open("GET",t.url+"?"+n,t.async),o.send(null)):"POST"===t.type&&(o.open("POST",t.url,t.async),o.setRequestHeader("Content-Type","application/json; charset=UTF-8"),n?o.send(n):o.send())),this._acData=[]}},n.prototype._mixinBeforeCreate=function(){},n.prototype._mixinMounted=function(){},n.prototype._mixinDestroyed=function(){},n.prototype._mixinRouterWatch=function(){},n.install=function(t,e){return function t(e,o,n){t.installed||(t.installed=!0,e.mixin({watch:{$route:function(t,e){console.log(t,e)}},beforeCreate:function(){console.log(this)},destroyed:function(){},mounted:function(){}}),e.prototype.$vueDataAc=new n(o))}(t,e,n)},n.version="2.0.0",o&&window.Vue&&window.Vue.use(n),n},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).VueDataAc=e();